---

quay:
  enabled: false
  config_bundle: config-bundle-secret
  syncwave: 5
  public_route: quay.apps.chvk8mgmt.lonzagroup.net

  namespace:
    create: true
    name: quay-enterprise
    syncwave: 1

  components:
    clair:
      overrides:
        replicas: 1
    clairpostgres: {}
    postgres: {}
    objectstore:
      managed: "flase"
    redis: {}
    hpa:
      managed: "false"
    route: {}
    mirror:
      overrides:
        replicas: 1
    monitoring: {}
    tls:
      managed: "false"
    postgres: {}
    quay:
      overrides:
        replicas: 1

  job_init_quay:
    enabled: false
    syncwave: 5
    serviceAccount: quay-initiator

# Install Quay Operator
# Deploys Operator --> Subscription and Operatorgroup
# Syncwave: 0
helper-operator:
  operators:
    quay-operator:
      enabled: true
      syncwave: '0'
      namespace:
        name: openshift-operators
        create: false
      subscription:
        channel: stable-3.9
        approval: Automatic
        operatorName: quay-operator
        source: redhat-operators
        sourceNamespace: openshift-marketplace
      operatorgroup:
        create: false
        notownnamespace: true

helper-status-checker:
  enabled: true

  # use the value of the currentCSV (packagemanifest) but WITHOUT the version !!
  operatorName: quay-operator

  # where operator is installed
  namespace:
    name: openshift-operators

  serviceAccount:
    create: true
    name: "sa-quay"
