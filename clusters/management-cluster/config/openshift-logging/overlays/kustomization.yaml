apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

commonLabels:
  created-by: cluster-bootstrap
  author: 'Thomas_Jungbauer'
  clustername: 'Management_Cluster'

resources:
- ../../../../../components/clusterconfig/init_openshift_logging/overlays/default

patches:
  - target:
      kind: ClusterLogging
      name: instance
    patch: |-
      - op: replace
        path: /spec/logStore/elasticsearch/storage/storageClassName
        value: 'gp2'
  - target:
      kind: ClusterLogging
      name: instance
    patch: |-
      - op: replace
        path: /spec/logStore/retentionPolicy/application/maxAge
        value: '1d'
  - target:
      kind: ClusterLogging
      name: instance
    patch: |-
      - op: replace
        path: /spec/logStore/retentionPolicy/audit/maxAge
        value: '7d'
  - target:
      kind: ClusterLogging
      name: instance
    patch: |-
      - op: replace
        path: /spec/logStore/retentionPolicy/infra/maxAge
        value: '7d'
  - target:
      kind: ConsoleLink
      name: kibana-public-url
    patch: |-
      - op: replace
        path: /spec/href
        value: 'https://kibana-openshift-logging.apps.cluster-xtw6s.xtw6s.sandbox955.opentlc.com'